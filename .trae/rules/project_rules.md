# 环境管理
1. 用uv来管理python, uv run xx.py来运行项目， uv add来添加依赖



# 目标
搭建一个股票分析系统，实现以下功能：
1. 股票数据获取（基于Tushare接口）
    1.1. 爬取A股日线K线图
    1.2. 最好也具备爬取其他市场股票的功能
2. 股票数据分析
    2.1. 计算技术指标（BBI，MACD，RSI，KDJ等，这四个要包括）
    2.2. 提供一个模板，用户可以根据这个模板自定义策略来筛选股票
3. 股票数据可视化



# 项目结构
- .env  # 环境变量文件，存储API密钥等敏感信息
- .trae/  # 项目配置文件目录
    - rules/  # 项目规则文件目录
        - project_rules.md  # 项目规则文件，包含项目目标、功能描述、数据结构等
- data/  # 数据存储目录
    - stock_data/  # 存储股票数据的目录
        - stock_data.csv  # 股票数据的csv文件, 名为{股票代码}.csv
- tests/  # 测试目录
- src/  # 项目源代码目录



# agent功能
1. 将这些技术指标提供一个mcp server，用户可以和agent聊天来指定该策略，然后agent会调用mcp server来执行策略筛选股票

# 数据存储
1. data/stock_data目录，存放股票原始股价信息：{股票代码}.csv
{股票代码}.csv的数据结构(记录原始股价信息)
| 日期 | 开盘价 | 收盘价 | 最高价 | 最低价 | 成交量 | 成交额 | 
| ---- | ------ | ------ | ------ | ------ | ------ | ------ |
2. data/adj_factor目录，存放股票复权因子信息：{股票代码}.csv
{股票代码}.csv的数据结构(记录复权因子信息)
| 日期 | 复权因子 | 
| ---- | ------ | 
| 2025-12-15 | 1.0 | 
| 2025-12-16 | 1.005 | 
| 2025-12-17 | 1.01 | 
| ... | ... | 




# 需要实现的功能
1. 我要找到2025年12月15日收盘后，按如下条件筛选的股票：
    1.1. 热门板块（科技、核聚变、商业航天等）
    1.2. 前20日内最低点到最高点，涨幅大于20%。
    1.3. 最后一天收盘，KDJ指标小于10.

# 测试
1. 使用pytests
2. 所有tests文件都写到tests目录下，每个test文件都以test_开头，例如test_fetch.py


# 关于文档
1. 在和你对话的过程中，需要你将我的需求整理更新到这个文档中。
2. 把整个项目的构建思路、功能描述、数据结构，都写到README.md文件中。