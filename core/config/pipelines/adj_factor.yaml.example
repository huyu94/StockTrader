# 复权因子 Pipeline 配置示例
# 复制此文件为 adj_factor.yaml 并修改配置

adj_factor:
  collector:
    source: tushare  # 数据源：tushare/akshare
    token: ${TUSHARE_TOKEN}  # Tushare Token（从环境变量读取）
    retry_times: 3  # 重试次数
    timeout: 30  # 超时时间（秒）
    
  transformer:
    transform_rules:
      validate_factor_range: true  # 验证复权因子范围（通常 > 0）
      normalize_dates: true  # 标准化日期格式
      
  loader:
    table: adj_factors  # 数据库表名
    load_strategy: upsert  # 加载策略：append/replace/upsert
    upsert_keys: ['ts_code', 'trade_date']  # upsert 模式的主键字段
    batch_size: 1000  # 批量插入大小

